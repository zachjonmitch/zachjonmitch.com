(()=>{function L(){console.log("testing")}document.addEventListener("DOMContentLoaded",()=>{q(),M(),L(),z(),I(),F(),H(),P(),Y()});function E(){if(!E.instance){let s=new WeakMap,r=new Set;E.instance={register:(i,a,n,e)=>{s.has(i)||(s.set(i,{type:a,pause:n,resume:e}),r.add(i),i.hasAttribute("data-pause")&&n())},pauseAll:()=>{r.forEach(i=>{let a=s.get(i);a&&a.pause()})},resumeAll:()=>{r.forEach(i=>{let a=s.get(i);a&&a.resume()})},pauseType:(i=null)=>{r.forEach(a=>{let n=s.get(a);n&&(!i||n.type===i)&&n.pause()})},resumeType:(i=null)=>{r.forEach(a=>{let n=s.get(a);n&&(!i||n.type===i)&&n.resume()})},resumeElement:i=>{let a=s.get(i);a&&a.resume()}}}return E.instance}function T(){if(!T.instance){let s=new Set;T.instance={subscribe:r=>s.add(r),unsubscribe:r=>s.delete(r)},window.addEventListener("resize",r=>{s.forEach(i=>i(r))})}return T.instance}function A(){if(!A.instance){let s=new Set;A.instance={add:r=>s.add(r),clearAll:()=>{s.forEach(clearTimeout),s.clear()}}}return A.instance}function C(s){var r=document.createElement("textarea");return r.innerHTML=s,r.value}function M(){let s=document.querySelectorAll("[data-parallax]"),r=window.scrollY,i=!1;function a(){let n=window.scrollY;if(n===r){i=!1,requestAnimationFrame(a);return}r=n,s.forEach(e=>{let f=parseFloat(e.dataset.parallaxSpeedX)||0,c=parseFloat(e.dataset.parallaxSpeedY)||0,l=e.hasAttribute("data-parallax-start-x"),t=e.hasAttribute("data-parallax-stop-x"),u=e.hasAttribute("data-parallax-start-y"),o=e.hasAttribute("data-parallax-stop-y"),d=l?parseFloat(e.dataset.parallaxStartX):0,h=t?parseFloat(e.dataset.parallaxStopX):1/0,m=u?parseFloat(e.dataset.parallaxStartY):0,b=o?parseFloat(e.dataset.parallaxStopY):1/0,v=d+f*n,w=m+c*n;l&&t&&(v=Math.min(Math.max(v,Math.min(d,h)),Math.max(d,h))),u&&o&&(w=Math.min(Math.max(w,Math.min(m,b)),Math.max(m,b))),e.style.transform=`translate3d(${v}px, ${w}px, 0)`}),i=!1,requestAnimationFrame(a)}requestAnimationFrame(a)}function q(){let a=document.querySelector("body"),n=document.querySelector("[data-ui-canvas-bg]"),e=n.getContext("2d"),f=new Image;f.src="/dist/img/grit-white.png";let c=0,l=0,t,u=!1,o=0,d=0,h=-.5,m=0,b=performance.now();function v(){let p=window.devicePixelRatio||1;n.width=window.innerWidth*p,n.height=window.innerHeight*p,n.style.width="100vw",n.style.height="100vh",e.scale(p,p),t=window.innerHeight*.3,e.imageSmoothingEnabled=!1}function w(p){if(!f.complete){requestAnimationFrame(w);return}let x=(p-b)/16.67;b=p,e.clearRect(0,0,n.width,n.height);for(let g=c-269;g<window.innerWidth+269;g+=269)for(let y=l-t;y<window.innerHeight+t;y+=t)e.drawImage(f,g,y,269,t);u||(c+=h*x,l+=m*x,h*=.95,m*=.95,Math.abs(h)<.5&&(h=-.5),Math.abs(m)<.01&&(m=0)),c<=-269&&(c+=269),c>=269&&(c-=269),l<=-t&&(l+=t),l>=t&&(l-=t),requestAnimationFrame(w)}n.addEventListener("mousedown",p=>{u=!0,o=p.clientX,d=p.clientY,h=0,m=0,a.classList.add("page-grabbed")}),n.addEventListener("mousemove",p=>{if(u){let x=p.clientX-o,g=p.clientY-d;c-=x,l-=g,h=-x,m=-g,o=p.clientX,d=p.clientY}}),n.addEventListener("mouseup",()=>{u=!1,a.classList.remove("page-grabbed")}),n.addEventListener("mouseleave",()=>{u=!1,a.classList.remove("page-grabbed")}),v(),f.onload=()=>requestAnimationFrame(w),window.addEventListener("resize",v)}function z(){let s=document.querySelector("body"),r=document.querySelector("[data-ui-navbar-toggle]"),i=document.querySelector("[data-ui-navbar-collapse]"),a=document.querySelector("[data-ui-navbar-close-button]"),n=document.querySelectorAll("[data-ui-navbar-link]"),e=E();T().subscribe(S),r.addEventListener("click",c),a.addEventListener("click",l),n.forEach(t=>{t.addEventListener("click",S)});function c(){s.classList.add("mobile-menu-open"),i.classList.add("zm-navbar__collapse--active"),e.resumeType("text-reveal")}function l(){S()}}function S(){let s=document.querySelector("body"),r=document.querySelector("[data-ui-navbar-collapse]");s.classList.remove("mobile-menu-open"),r.classList.remove("zm-navbar__collapse--active")}function I(){document.querySelectorAll("a[href^='#']").forEach(i=>{i.addEventListener("click",r)});function r(i){i.preventDefault();let a=i.currentTarget.getAttribute("href").substring(1),n=document.getElementById(a);if(!n)return;let e=40,f=n.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:f-e,behavior:"smooth"})}}function Y(){let s=document.querySelectorAll("[data-ui-work-box-track]"),r=window.matchMedia("(max-width: 991px)");function i(){s.forEach(a=>{let n=a.dataset.trackSpeed?parseFloat(a.dataset.trackSpeed):100,e=0,f=performance.now(),c=null,l=!1;function t(m){if(!l)return;let b=m-f;f=m,e-=n/7e3*(b/16.67),e<=-50&&(e=0),a.style.transform=`translate3d(0, ${e}%, 0)`,c=requestAnimationFrame(t)}function u(){l||(l=!0,f=performance.now(),requestAnimationFrame(t))}function o(){l=!1,c&&(cancelAnimationFrame(c),c=null)}function d(){r.matches?u():o()}d(),r.addEventListener("change",d);let h=a.closest(".work-box");h.addEventListener("mouseenter",()=>{r.matches||(s.forEach(m=>{m!==a&&(m.dataset.animating="false",o.call(m))}),a.dataset.animating="true",u())}),h.addEventListener("mouseleave",()=>{r.matches||o()})})}i()}function F(){let s=document.querySelectorAll("[data-zm-text-reveal]"),r=window.matchMedia("(max-width: 575px)"),i=E();function a(t,u,o,d,h){return t.animate([{transform:`translateY(${d}%)`},{transform:`translateY(${h}%)`}],{duration:o,easing:"cubic-bezier(.68,-.55,.265,1.55)",fill:"forwards",delay:u}).finished}function n(t){let u=t.getAttribute("data-zm-text-reveal-mode")==="mobile";if(!r.matches&&u)return;let o="";if(t.hasAttribute("data-zm-text-reveal-mobile")&&r.matches?o=t.getAttribute("data-zm-text-reveal-mobile"):o=t.getAttribute("data-zm-text-reveal"),!o){t.innerText="";return}let d=o.split("");t.innerText="",d.forEach(h=>{if(h===" ")t.insertAdjacentHTML("beforeend",'<span class="zm-reveal-char__space">&nbsp;</span>');else{let m=`<span class='zm-reveal-char__wrap z-2' data-ui-reveal-char-wrap aria-hidden='true'>
                        <span class='zm-reveal-char zm-reveal-char--primary' data-ui-reveal-char>${h}</span>
                        <span class='zm-reveal-char zm-reveal-char--alt' data-ui-reveal-char-alt>${h}</span>
                      </span>`;t.insertAdjacentHTML("beforeend",m)}})}function e(t){n(t);let u=t.querySelectorAll("[data-ui-reveal-char]");if(u.length===0)return;let o=[],d=!1;function h(){d||(o=[],u.forEach((v,w)=>{o.push(a(v,w*70,600,100,0))}),o.length>0&&setTimeout(()=>{Promise.all(o).then(()=>{i.resumeType("typewriter"),t.hasAttribute("data-zm-text-reveal-hover")&&c(t)})},400))}function m(){d=!0,o.forEach(v=>v.cancel())}function b(){d&&(d=!1,h())}t.hasAttribute("data-pause")&&i.register(t,"text-reveal",m,b),h()}function f(t){let u=t.currentTarget,o=u.querySelector("[data-ui-reveal-char]"),d=u.querySelector("[data-ui-reveal-char-alt]");a(o,0,600,0,-100),a(d,0,600,100,0)}function c(t){t.querySelectorAll("[data-ui-reveal-char-wrap]").forEach(o=>{o.addEventListener("mouseenter",f)})}function l(){document.querySelectorAll("[data-zm-text-reveal]").forEach(e)}l(),r.addEventListener("change",l)}function H(){let s=window.matchMedia("(max-width: 575px)"),r=A(),i=E();function a(){r.clearAll(),document.querySelectorAll("[data-zm-text-typewriter]").forEach(e=>{let f=C(e.getAttribute("data-zm-text-typewriter")||""),c=0,l=null,t=!1;e.classList.add("zm-typewriter"),e.innerHTML="&nbsp;";function u(){t||(c===0&&(e.classList.add("zm-typewriter--visible"),e.innerHTML=f[0]||"",c=1),c<f.length?(l=setTimeout(()=>{t||(e.textContent+=f[c],c++,u())},60),r.add(l)):e.classList.add("zm-typewriter--blink"))}function o(){t=!0,l!==null&&clearTimeout(l)}function d(){if(t){if(t=!1,c>=f.length){e.classList.add("zm-typewriter--blink");return}u()}}i.register(e,"typewriter",o,d),u()})}a(),s.addEventListener("change",a)}function P(){let s=document.querySelectorAll("[data-zm-text-scramble]"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZ";s.forEach(i=>{let a=Array.from(i.childNodes).find(e=>e.nodeType===Node.TEXT_NODE);if(!a)return;let n=a.textContent.trim();i.addEventListener("mouseenter",()=>{let e=0,f=setInterval(()=>{a.textContent=n.split("").map((c,l)=>l<e?n[l]:r[Math.floor(Math.random()*26)]).join(""),e>=n.length&&clearInterval(f),e+=1/3},30)})})}})();
