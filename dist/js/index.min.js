function handleResize(){resetMobileMenu()}function initBreakpointListener(){let t={mobile:window.matchMedia("(max-width: 575px)"),tablet:window.matchMedia("(max-width: 991px)")},n={mobile:t.mobile.matches,tablet:t.tablet.matches};function e(){var e={mobile:t.mobile.matches,tablet:t.tablet.matches};e.mobile!==n.mobile&&(n.mobile=e.mobile,initTextReveal()),e.tablet!==n.tablet&&(n.tablet=e.tablet)}t.mobile.addEventListener("change",e),t.tablet.addEventListener("change",e),e()}function initSiteBackground(){let t=document.querySelector("body"),n=document.querySelector("[data-canvas-bg]"),a=n.getContext("2d"),i=new Image,r=(i.src="/dist/img/grit-white.png",0),o=0,l=269,c,s=!1,d=0,m=0,u=-.5,v=0;function e(){var e=window.devicePixelRatio||1;n.width=window.innerWidth*e,n.height=window.innerHeight*e,n.style.width=window.innerWidth+"px",n.style.height=window.innerHeight+"px",a.scale(e,e),c=.3*window.innerHeight,a.imageSmoothingEnabled=!1}n.addEventListener("mousedown",e=>{s=!0,d=e.clientX,m=e.clientY,u=0,v=0,t.classList.add("page-grabbed")}),n.addEventListener("mousemove",e=>{var t,n;s&&(t=e.clientX-d,n=e.clientY-m,r-=t,o-=n,u=-t,v=-n,d=e.clientX,m=e.clientY)}),n.addEventListener("mouseup",()=>{s=!1,t.classList.remove("page-grabbed")}),n.addEventListener("mouseleave",()=>{s=!1,t.classList.remove("page-grabbed")}),e(),i.onload=function e(){if(i.complete){a.clearRect(0,0,n.width,n.height);for(let t=r-l;t<window.innerWidth+l;t+=l)for(let e=o-c;e<window.innerHeight+c;e+=c)a.drawImage(i,t,e,l,c);s||(r+=u,o+=v,u*=.95,v*=.95,Math.abs(u)<.5&&(u=-.5),Math.abs(v)<.01&&(v=0)),r<=-l&&(r+=l),r>=l&&(r-=l),o<=-c&&(o+=c),o>=c&&(o-=c)}requestAnimationFrame(e)},window.addEventListener("resize",e)}function initMobileMenu(){let e=document.querySelector("body");var t=document.querySelector("[data-navbar-toggle]");let n=document.querySelector("[data-navbar-collapse]");var a=document.querySelector("[data-navbar-close-button]");t.addEventListener("click",function(){e.classList.add("mobile-menu-open"),n.classList.add("zm-navbar__collapse--active")}),a.addEventListener("click",function(){e.classList.remove("mobile-menu-open"),n.classList.remove("zm-navbar__collapse--active")})}function resetMobileMenu(){var e=document.querySelector("body"),t=document.querySelector("[data-navbar-collapse]");e.classList.remove("mobile-menu-open"),t.classList.remove("zm-navbar__collapse--active")}function initAnchorScroll(){function t(e){e.preventDefault();var e=e.currentTarget.getAttribute("href").substring(1),e=document.getElementById(e);e&&(e=e.getBoundingClientRect().top+window.scrollY,window.scrollTo({top:e-40,behavior:"smooth"}))}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t)})}function initWorkCarousels(){var e=document.querySelectorAll("[data-work-box-track]");let t=new IntersectionObserver(e=>{e.forEach(e=>{var t;e.isIntersecting&&(t=parseFloat(e.target.dataset.speed)||70,e.target.style.animation=`scrollUp ${t}s linear infinite`)})},{root:null,threshold:0});e.forEach(e=>t.observe(e))}function initTextReveal(){var e=document.querySelectorAll("[data-text-reveal]");let n=window.matchMedia("(max-width: 575px)").matches;e.forEach(t=>{var e=t.getAttribute(n?"data-text-reveal-mobile":"data-text-reveal")?.trim();e?(e=e.split(""),t.innerHTML="",e.forEach(e=>{t.insertAdjacentHTML("beforeend",`<span class="zm-reveal-char-wrap">
                      <span class="zm-reveal-char">${e}</span>
                      <span class="zm-reveal-char-alt">${e}</span>
                    </span>`)}),setTimeout(()=>{t.querySelectorAll(".zm-reveal-char").forEach((e,t)=>{setTimeout(()=>{e.classList.add("zm-reveal-char--active")},70*t)})},800)):t.innerHTML=""})}function initTextScramble(){var e=document.querySelectorAll("[data-text-scramble]");e.forEach(e=>{let t=Array.from(e.childNodes).find(e=>e.nodeType===Node.TEXT_NODE);if(t){let a=t.textContent.trim();e.addEventListener("mouseenter",()=>{let n=0,e=setInterval(()=>{t.textContent=a.split("").map((e,t)=>t<n?a[t]:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(26*Math.random())]).join(""),n>=a.length&&clearInterval(e),n+=1/3},30)})}})}function initTextTypewriter(){var e=document.querySelectorAll("[data-text-typewriter]");let i=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target,n=t.getAttribute("data-text-typewriter"),a=0;t.classList.add("zm-typewriter"),setTimeout(()=>{let e=setInterval(()=>{t.textContent=n.slice(0,a),++a>n.length&&(clearInterval(e),i.unobserve(t))},60)},1800)}})},{threshold:.1});e.forEach(e=>i.observe(e))}document.addEventListener("DOMContentLoaded",()=>{initSiteBackground(),initTextReveal(),initTextTypewriter(),initMobileMenu(),initAnchorScroll(),initWorkCarousels(),initTextScramble(),window.addEventListener("resize",handleResize),initBreakpointListener()});