function initSiteBackground(){let t=document.querySelector("body"),n=document.querySelector("[data-canvas-bg]"),i=n.getContext("2d"),o=new Image,r=(o.src="/dist/img/grit-white.png",0),a=0,d=269,l,c=!1,s=0,u=0,h=-.5,m=0;function e(){var e=window.devicePixelRatio||1;n.width=window.innerWidth*e,n.height=window.innerHeight*e,n.style.width=window.innerWidth+"px",n.style.height=window.innerHeight+"px",i.scale(e,e),l=.3*window.innerHeight,i.imageSmoothingEnabled=!1}n.addEventListener("mousedown",e=>{c=!0,s=e.clientX,u=e.clientY,h=0,m=0,t.classList.add("page-grabbed")}),n.addEventListener("mousemove",e=>{var t,n;c&&(t=e.clientX-s,n=e.clientY-u,r-=t,a-=n,h=-t,m=-n,s=e.clientX,u=e.clientY)}),n.addEventListener("mouseup",()=>{c=!1,t.classList.remove("page-grabbed")}),n.addEventListener("mouseleave",()=>{c=!1,t.classList.remove("page-grabbed")}),e(),o.onload=function e(){if(o.complete){i.clearRect(0,0,n.width,n.height);for(let t=r-d;t<window.innerWidth+d;t+=d)for(let e=a-l;e<window.innerHeight+l;e+=l)i.drawImage(o,t,e,d,l);c||(r+=h,a+=m,h*=.95,m*=.95,Math.abs(h)<.5&&(h=-.5),Math.abs(m)<.01&&(m=0)),r<=-d&&(r+=d),r>=d&&(r-=d),a<=-l&&(a+=l),a>=l&&(a-=l)}requestAnimationFrame(e)},window.addEventListener("resize",e)}function initAnchorScroll(){function t(e){e.preventDefault();var e=e.currentTarget.getAttribute("href").substring(1),e=document.getElementById(e);e&&(e=e.getBoundingClientRect().top+window.scrollY,window.scrollTo({top:e-40,behavior:"smooth"}))}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t)})}function initWorkCarousels(){var e=document.querySelectorAll("[data-work-box-track]");let t=new IntersectionObserver(e=>{e.forEach(e=>{var t;e.isIntersecting&&(t=parseFloat(e.target.dataset.speed)||70,e.target.style.animation=`scrollUp ${t}s linear infinite`)})},{root:null,threshold:0});e.forEach(e=>t.observe(e))}function initTextScramble(){var e=document.querySelectorAll("[data-text-scramble]");e.forEach(t=>{let i=t.textContent.trim();t.addEventListener("mouseenter",()=>{let n=0,e=setInterval(()=>{t.childNodes.forEach(e=>{e.nodeType===Node.TEXT_NODE&&(e.textContent=i.split("").map((e,t)=>t<n?i[t]:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(26*Math.random())]).join(""))}),n>=i.length&&clearInterval(e),n+=1/3},30)})})}document.addEventListener("DOMContentLoaded",()=>{let t={x:0,y:0};initSiteBackground(),initAnchorScroll(),initWorkCarousels(),initTextScramble(),document.addEventListener("mousemove",function(e){({clientX:t.x,clientY:t.y}=e)})});